@import './tokens.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Legacy mapping for shadcn/ui to use new tokens */
        --background: var(--mb-color-bg-default);
        --foreground: var(--mb-color-fg-default);

        --card: var(--mb-color-surface-default);
        --card-foreground: var(--mb-color-fg-default);

        --popover: var(--mb-color-surface-default);
        --popover-foreground: var(--mb-color-fg-default);

        --primary: var(--mb-color-primary-default);
        --primary-foreground: var(--mb-color-fg-default);

        --secondary: var(--mb-color-surface-raised);
        --secondary-foreground: var(--mb-color-fg-default);

        --muted: var(--mb-color-surface-raised);
        --muted-foreground: var(--mb-color-fg-muted);

        --accent: var(--mb-color-surface-raised);
        --accent-foreground: var(--mb-color-fg-default);

        --destructive: var(--mb-color-error-default);
        --destructive-foreground: var(--mb-color-fg-default);

        --border: var(--mb-color-border-default);
        --input: var(--mb-color-bg-elevated);
        --ring: var(--mb-color-primary-default);

        --radius: var(--mb-radius-md);



        /* Native Dark Mode preference */
        color-scheme: dark;
    }

    .dark {
        --background: var(--mb-color-bg-default);
        --foreground: var(--mb-color-fg-default);
        /* ... repeat mappings if necessary, but :root is enough since dark is default */
    }

    html {
        @apply h-full overflow-x-hidden;
        background-color: hsl(var(--mb-color-bg-default));
        color: hsl(var(--mb-color-fg-default));
    }

    body {
        @apply bg-background text-foreground antialiased min-h-full;
        font-family: var(--mb-font-sans);
        font-feature-settings: "cv11", "ss01";
    }

    /* Global tabular nums for data */
    [data-numeric],
    .mb-numeric,
    .tabular-nums {
        font-variant-numeric: tabular-nums;
    }
}

@layer utilities {
    .mb-safe-top {
        padding-top: env(safe-area-inset-top);
    }

    .mb-safe-bottom {
        padding-bottom: env(safe-area-inset-bottom);
    }

    .min-h-touch {
        min-height: 48px;
    }

    .min-h-touch-primary {
        min-height: 56px;
    }

    .text-shadow-sm {
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
    }
}